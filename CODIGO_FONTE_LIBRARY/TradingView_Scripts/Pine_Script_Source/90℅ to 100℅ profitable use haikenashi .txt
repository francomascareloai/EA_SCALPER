// This Pine Script™ code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © Zahidkashmiri

//@version=6
plot(close)
//@version=5
strategy("Trend Direction with Neutral Zone (45-55) and Reversal Signals", overlay=true)

// === Input Parameters ===
rsiPeriod = input.int(14, title="RSI Period")
emaLength = input.int(50, title="EMA Length")  // EMA Length
neutralLower = input.int(45, title="Neutral Lower Bound")  // Lower bound of the neutral range
neutralUpper = input.int(55, title="Neutral Upper Bound")  // Upper bound of the neutral range

// === RSI Calculation ===
rsiValue = ta.rsi(close, rsiPeriod)

// === EMA Calculation ===
emaValue = ta.ema(close, emaLength)
plot(emaValue, title="EMA", color=color.blue, linewidth=2)

// === Reversal Conditions ===
buySignal = ta.crossover(rsiValue, neutralLower)  // RSI crossing up from below 45
sellSignal = ta.crossunder(rsiValue, neutralUpper)  // RSI crossing down from above 55

// === Plot Buy and Sell Signals ===
plotshape(series=buySignal, title="Buy Signal", location=location.belowbar, color=color.green, style=shape.labelup, text="BUY", size=size.small)
plotshape(series=sellSignal, title="Sell Signal", location=location.abovebar, color=color.red, style=shape.labeldown, text="SELL", size=size.small)

// === Strategy Entries ===
if buySignal
    strategy.entry("Long", strategy.long)

if sellSignal
    strategy.close("Long")

// === Bar Coloring for Trend ===
trendDirection = rsiValue > neutralUpper ? "Up" : rsiValue < neutralLower ? "Down" : "Neutral"
barColor = trendDirection == "Up" ? color.green : trendDirection == "Down" ? color.red : color.blue
barcolor(barColor)

// === Plot Neutral Zone (Optional) ===
hline(neutralLower, "Neutral Lower (45)", color=color.gray, linestyle=hline.style_dotted)
hline(neutralUpper, "Neutral Upper (55)", color=color.gray, linestyle=hline.style_dotted)

// === Dashboard with Telegram Link ===
var table myTable = table.new(position.top_center, 1, 1, border_width=1, frame_color=color.black, bgcolor=color.white)

// Add Telegram Message to Dashboard
table.cell(myTable, 0, 0, "Join Telegram @traderschatroom88", bgcolor=color.blue, text_color=color.white, text_size=size.normal)